(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},26:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(13),a=c.n(n),r=c(4),s=c(1),l=c(2),i=(c(21),c(22),c(0)),o=function(){return Object(i.jsx)("div",{className:"header",children:Object(i.jsxs)("nav",{className:"nav",children:[Object(i.jsx)(r.c,{className:"nav__link",to:"/",end:!0,children:"Home Page"}),Object(i.jsx)(r.c,{className:"nav__link",to:"/people",children:"People Page"})]})})},j=(c(24),c.p+"static/media/claws-paws.541228cb.gif"),b=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("h1",{className:"hp__title",children:"Home Page"}),Object(i.jsx)("br",{}),Object(i.jsx)("img",{src:j,alt:"cats :)"})]})})},d=c(9),h=c(14),u=c(5),m=c(8),O=c.n(m),p=(c(26),c(15)),x=c.n(p),f=c(16),N=c.n(f),v=function(e){var t,c,n=e.person,a=e.visiblePeople,s=Object(l.e)(),o=s.pathname,j=s.search;return Object(i.jsxs)("tr",{className:N()({"bg-success text-white":o.includes(n.slug)}),children:[Object(i.jsx)("td",{children:n.name}),Object(i.jsx)("td",{children:n.sex}),Object(i.jsx)("td",{children:n.born}),Object(i.jsx)("td",{children:n.died}),Object(i.jsx)("td",{children:a.some((function(e){var t;return e.name===(null===(t=n.fatherNameSlug)||void 0===t?void 0:t.name)}))?Object(i.jsx)(r.b,{to:{pathname:"".concat(null===(t=n.fatherNameSlug)||void 0===t?void 0:t.slug),search:j},className:"btn btn-info",children:n.fatherName}):Object(i.jsx)("p",{children:n.fatherName||"Not father"})}),Object(i.jsx)("td",{children:a.some((function(e){var t;return e.name===(null===(t=n.motherNameSlug)||void 0===t?void 0:t.name)}))?Object(i.jsx)(r.b,{to:{pathname:"".concat(null===(c=n.motherNameSlug)||void 0===c?void 0:c.slug),search:j},className:"btn btn-danger",children:n.motherName}):Object(i.jsx)("p",{children:n.motherName||"Not mother"})})]},n.slug)},g=(c(38),function(e){var t=e.visiblePeople,c=e.handleSortChange;return Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("table",{className:"table table-striped table-hover table-responsive",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"table__title",onClick:c,children:"Name"}),Object(i.jsx)("th",{className:"table__title",onClick:c,children:"Sex"}),Object(i.jsx)("th",{className:"table__title",onClick:c,children:"Born"}),Object(i.jsx)("th",{className:"table__title",onClick:c,children:"Died"}),Object(i.jsx)("th",{children:"Mother"}),Object(i.jsx)("th",{children:"Father"})]})}),Object(i.jsx)("tbody",{children:t.map((function(e){return Object(i.jsx)(v,{person:e,visiblePeople:t},e.slug)}))})]})})}),_=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],a=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()}));case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){a().then((function(e){return e}))}),[]);var r=c.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{motherNameSlug:c.find((function(t){return e.motherName===t.name})),fatherNameSlug:c.find((function(t){return e.fatherName===t.name}))})})),o=Object(l.f)(),j=Object(l.e)(),b=new URLSearchParams(j.search),m=b.get("query")||"",p=Object(s.useState)(m),f=Object(u.a)(p,2),N=f[0],v=f[1],_=b.get("sortBy")||"",S=b.get("sortOrder")||"",w=Object(s.useCallback)(x()((function(e){e?b.set("query",e):b.delete("query"),o("?".concat(b.toString()))}),500),[]);return m&&(r=r.filter((function(e){return"".concat(e.name).concat(e.fatherName).concat(e.motherName).toLowerCase().includes(m.toLowerCase())}))),_&&r.sort((function(e,t){switch(_){case"Name":return"asc"===S?e.name.localeCompare(t.name):t.name.localeCompare(e.name);case"Sex":return"asc"===S?e.sex.localeCompare(t.sex):t.sex.localeCompare(e.sex);case"Born":return"asc"===S?e.born-t.born:t.born-e.born;case"Died":return"asc"===S?e.died-t.died:t.died-e.died;default:return 0}})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"wrapper container",children:[Object(i.jsx)("h1",{className:"pp__title",children:"People Page"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{className:"form-control",type:"text",placeholder:"Type name",onChange:function(e){v(e.target.value),w(e.target.value)},value:N||""})]}),Object(i.jsx)(g,{visiblePeople:r,handleSortChange:function(e){var t=e.target.innerHTML;e.target?b.set("sortBy",t):b.delete("sortBy"),"asc"===S&&t===_?b.set("sortOrder","desc"):b.set("sortOrder","asc"),o("?".concat(b.toString()))}})]})},S=(c(39),function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("h1",{className:"pnf__title",children:"404"}),Object(i.jsx)("h1",{className:"pnf__title",children:"PAGE NOT FOUND"})]})})}),w=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(o,{}),Object(i.jsx)("div",{className:"App__content",children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{path:"/",element:Object(i.jsx)(b,{})}),Object(i.jsx)(l.a,{path:"people",element:Object(i.jsx)(_,{}),children:Object(i.jsx)(l.a,{path:":slug",element:Object(i.jsx)(_,{})})}),Object(i.jsx)(l.a,{path:"*",element:Object(i.jsx)(S,{})})]})})]})};a.a.render(Object(i.jsx)(r.a,{children:Object(i.jsx)(w,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.bc36e9b7.chunk.js.map